<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th=""
      layout:decorator="layout_containered">
<head layout:fragment="header" th:remove="tag">
    <script th:src="@{/vendors/amcharts/amcharts/amcharts.js}"></script>
    <script th:src="@{/vendors/amcharts/amcharts/serial.js}"></script>
    <script th:src="@{/vendors/amcharts/amcharts/pie.js}"></script>
    <script th:src="@{/vendors/amcharts/amcharts/themes/light.js}"></script>
    <script th:inline="javascript">
        var charts = {};

        $(document).ready(function(){
            $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
                var $tab = $(e.target);
                var tabId = $tab.attr('href').substr(1);
                renderChartOnTabPanel(tabId);
            });

            $('.tab-pane.active').each(function(){
                renderChartOnTabPanel($(this).attr('id'));
            });
        });
    </script>
</head>
<body>
<div layout:fragment="content">
    <div id="chartdiv" style="width: 100%; height: 400px;">

    </div>
    <script th:inline="javascript">
        /*[+
         var a = [[${chart}]];
         var json = JSON.parse(a);
         AmCharts.makeChart('chartdiv', json);
         +]*/
    </script>
</div>
</body>
</html>